% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calculate_national_population_metrics.R
\name{calculate_national_population_metrics}
\alias{calculate_national_population_metrics}
\title{Compute National Population Metrics for DHIS-2 and UN Data}
\usage{
calculate_national_population_metrics(
  .data,
  country_name,
  start_year = 2019,
  end_year = 2023
)
}
\arguments{
\item{.data}{A \code{cd_data} tibble containing processed DHIS-2 health facility data
with population indicators.}

\item{country_name}{A character string specifying the country for which demographic
indicators are calculated.}

\item{start_year}{The starting year for calculating demographic indicators (default is 2019).}

\item{end_year}{The ending year for calculations (default is 2023).}
}
\value{
A tibble of class \code{cd_national_denominators} containing merged data from DHIS-2
and UN population estimates, with calculated demographic metrics such as total population,
live births, growth rates, and adjusted crude birth and death rates.
}
\description{
\code{calculate_national_population_metrics} processes DHIS-2 and UN population datasets to
calculate national-level population metrics, including total population, live births,
growth rates, and related demographic indicators.
}
\details{
This function performs the following steps:
\enumerate{
\item \strong{Prepare DHIS-2 Data}:
\itemize{
\item Selects and renames key demographic columns from DHIS-2 data.
\item Adds a \code{country} column based on the specified \code{country_name}.
\item Retains only the first row for each unique combination of \code{district},
\code{adminlevel_1}, and \code{year} to avoid duplicates.
}
\item \strong{Compute DHIS-2 National Totals}:
\itemize{
\item Summarizes population (\code{totpop_dhis2}) and live births (\code{totlivebirths_dhis2})
at the national level for each year, scaling values to thousands.
}
\item \strong{Prepare and Merge UN Data}:
\itemize{
\item Filters UN data for \code{country_name} and specified years (\code{start_year} to \code{end_year}).
\item Renames columns in UN data with a \code{un_} prefix to distinguish them from DHIS-2 metrics.
\item Merges DHIS-2 and UN data by \code{country} and \code{year}, creating a unified dataset.
}
\item \strong{Return Output}:
\itemize{
\item The output is a \code{cd_national_denominators} tibble containing DHIS-2 and UN
metrics for the specified country and years, ready for further analysis.
}
}
}
\examples{
\dontrun{
# Calculate national demographic metrics for Kenya
national_population_data <- compute_national_population_metrics(
  .data = dhis2_data,
  country_name = "Kenya",
  start_year = 2019,
  end_year = 2023
)
}

}
