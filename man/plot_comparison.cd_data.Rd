% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/checks_internal_consistency.R
\name{plot_comparison.cd_data}
\alias{plot_comparison.cd_data}
\title{Plot Comparison with Linear Fit and R-squared}
\usage{
\method{plot_comparison}{cd_data}(
  .data,
  x_var,
  y_var,
  title = NULL,
  x_label = NULL,
  y_label = NULL,
  call = caller_env(),
  ...
)
}
\arguments{
\item{.data}{A \code{cd_data} object containing merged data for the specified indicators.}

\item{x_var}{Character. Name of the variable to plot on the x-axis (e.g., 'anc1').}

\item{y_var}{Character. Name of the variable to plot on the y-axis (e.g., 'penta1').}

\item{title}{Character. The main title for the plot. Defaults to a title based on \code{x_var} and \code{y_var}.}

\item{x_label}{Character. Label for the x-axis. Defaults to the value of \code{x_var}.}

\item{y_label}{Character. Label for the y-axis. Defaults to the value of \code{y_var}.}

\item{call}{The calling environment.}

\item{...}{Additional arguments for customization, such as \code{size}, \code{color}, or \code{linetype}, for finer control over plot appearance.}
}
\value{
A ggplot2 object showing the comparison plot of two indicators with linear regression and R-squared values.
}
\description{
Creates a scatter plot to compare two indicators over multiple years, including
a linear regression line and a diagonal reference line. The plot is faceted by year,
and displays R-squared values for each year to assess the relationship between indicators.
}
\details{
This function is primarily used to assess internal consistency across selected indicators
for a \code{cd_data} object. Users can specify any pair of indicators as x and y variables, allowing for
flexible comparison of various indicators.

This function calculates R-squared values for each year and displays them in each facet,
helping assess the relationship between the two indicators over time. The diagonal reference line
is added to aid in visualizing deviations from a perfect 1:1 relationship.

Common indicator comparisons include:
\itemize{
\item ANC1 vs PENTA1
\item PENTA1 vs PENTA3
\item OPV1 vs OPV3
}
}
\examples{
\dontrun{
  # Example 1: Basic comparison between ANC1 and PENTA1 indicators
  plot_comparison(cd_data, x_var = 'anc1', y_var = 'penta1')

  # Example 2: Customized plot with larger points and a custom theme
  plot_comparison(cd_data, x_var = 'anc1', y_var = 'penta1',
                  title = 'ANC1 vs PENTA1 Comparison',
                  x_label = 'ANC1 Coverage', y_label = 'PENTA1 Coverage',
                  facet_ncol = 2, plot_theme = theme_minimal())
}

}
